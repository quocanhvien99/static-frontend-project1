(this["webpackJsonpfrontend-reactjs"]=this["webpackJsonpfrontend-reactjs"]||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),i=(a(69),a(1)),o=a(8),s=a(4),u=a(13),m=a(63),d=a(12),E=a.n(d),f=a(16),p="https://api-project1-quocanh.herokuapp.com",h=(a(76),function(){return c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"circle"},c.a.createElement("div",{className:"circle-1"}),c.a.createElement("div",{className:"circle-2"}),c.a.createElement("div",{className:"circle-3"})))}),g=Object(n.createContext)(),v=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({}),s=Object(i.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!0),v=Object(i.a)(d,2),b=v[0],j=v[1];return Object(n.useEffect)((function(){Object(f.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch("".concat(p,"/api/user/info"),{credentials:"include"});case 3:if(200!==(t=e.sent).status){e.next=10;break}return l(!0),e.next=8,t.json();case 8:a=e.sent,m(a);case 10:j(!1);case 11:case"end":return e.stop()}}),e)})))()}),[r]),c.a.createElement(g.Provider,{value:{isLogin:r,setIsLogin:l,userInfo:u}},b?c.a.createElement(h,null):e.children)},b=function(e){var t=e.component,a=Object(m.a)(e,["component"]),r=Object(n.useContext)(g).isLogin;return c.a.createElement(s.b,Object.assign({},a,{render:function(e){var a=e.location;return r?c.a.createElement(t,null):c.a.createElement(s.a,{to:{pathname:"/login",state:{from:a}}})}}))},j=(a(79),function(){return c.a.createElement("div",{className:"Home"})}),O=(a(80),a(81),function(e){var t=e.content,a=e.isActive,n=e.setModel;return c.a.createElement("div",{className:a?"Modal Modal-active":"Modal"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"content"},t),c.a.createElement("div",{className:"close-btn",onClick:function(){n({isActive:!1})}},"X")))}),N=function(e){var t=e.history,a=e.location,r=Object(n.useState)(""),l=Object(i.a)(r,2),m=l[0],d=l[1],v=Object(n.useState)(""),b=Object(i.a)(v,2),j=b[0],N=b[1],y=Object(n.useState)({isActive:!1}),C=Object(i.a)(y,2),S=C[0],k=C[1],w=Object(n.useState)(!1),x=Object(i.a)(w,2),T=x[0],P=x[1],L=Object(n.useContext)(g),A=L.isLogin,B=L.setIsLogin,F=(a.state||{from:{pathname:"/"}}).from,_=function(){var e=Object(f.a)(E.a.mark((function e(){var a,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),a={email:m,password:j},e.next=4,fetch("".concat(p,"/api/user/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.text();case 7:if(c=e.sent,P(!1),200!==n.status){e.next=14;break}return B(!A),t.push(F),u.NotificationManager.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!","Successful!"),e.abrupt("return");case 14:k({isActive:!0,content:c});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return A?c.a.createElement(s.a,{to:"/"}):c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"\u0110\u0103ng Nh\u1eadp"),c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){d(e.target.value)},value:m}),c.a.createElement("label",{htmlFor:"password"},"M\u1eadt kh\u1ea9u"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){N(e.target.value)},value:j}),c.a.createElement("div",{id:"submit-btn",onClick:_},"\u0110\u0103ng Nh\u1eadp"),c.a.createElement("p",null,"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",c.a.createElement(o.b,{to:"/register"},"\u0110\u0103ng k\xfd"))),c.a.createElement(O,Object.assign({},S,{setModel:k})),T&&c.a.createElement(h,null))},y=(a(82),function(e){var t=e.history,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],s=r[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),g=d[0],v=d[1],b=Object(n.useState)(""),j=Object(i.a)(b,2),N=j[0],y=j[1],C=Object(n.useState)({isActive:!1}),S=Object(i.a)(C,2),k=S[0],w=S[1],x=Object(n.useState)(!1),T=Object(i.a)(x,2),P=T[0],L=T[1],A=function(){var e=Object(f.a)(E.a.mark((function e(){var a,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),a={name:l,email:g,password:N},e.next=4,fetch("".concat(p,"/api/user/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.text();case 7:if(c=e.sent,L(!1),200!==n.status){e.next=13;break}return t.push("/login"),u.NotificationManager.success("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng!","Successful!"),e.abrupt("return");case 13:w({isActive:!0,content:c});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"Register"},c.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"name"},"T\xean"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){s(e.target.value)},value:l}),c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){v(e.target.value)},value:g}),c.a.createElement("label",{htmlFor:"password"},"M\u1eadt kh\u1ea9u"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){y(e.target.value)},value:N}),c.a.createElement("div",{id:"submit-btn",onClick:A},"\u0110\u0103ng K\xfd"),c.a.createElement("p",null,"Quay l\u1ea1i trang ",c.a.createElement(o.b,{to:"/login"},"\u0111\u0103ng nh\u1eadp"))),c.a.createElement(O,Object.assign({},k,{setModel:w})),P&&c.a.createElement(h,null))}),C=(a(83),function(e){var t=e.getReports,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)(null),u=Object(i.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)("nam"),f=Object(i.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),j=b[0],O=b[1];return console.log("render"),c.a.createElement("div",{className:"CreateReport"},c.a.createElement("div",{className:"create-btn",onClick:function(){return O(!0)}},"+ T\u1ea1o M\u1edbi"),c.a.createElement("div",{className:j?"Create-Form Create-Form-Active":"Create-Form"},c.a.createElement("div",{className:"container"},c.a.createElement("span",{className:"close-btn",onClick:function(){return O(!1)}},"X"),c.a.createElement("label",{htmlFor:"name"},"H\u1ecd t\xean"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){o(e.target.value)}}),c.a.createElement("label",{htmlFor:"birthday"},"Ng\xe0y sinh"),c.a.createElement("input",{type:"date",name:"birthday",id:"birthday",onChange:function(e){d(e.target.value)}}),c.a.createElement("label",{htmlFor:"sex"},"Gi\u1edbi t\xednh"),c.a.createElement("select",{id:"sex",name:"sex",defaultValue:h,onChange:function(e){g(e.target.value)}},c.a.createElement("option",{value:"nam"},"Nam"),c.a.createElement("option",{value:"n\u1eef"},"N\u1eef")),c.a.createElement("button",{onClick:function(e){e.defaultValue=!0;var a={name:l.toLowerCase(),sex:h,birthday:m};fetch("".concat(p,"/api/report/"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){t(),O(!1),o(""),d(null),g("nam")}))}},"T\u1ea1o b\xe1o c\xe1o"))))}),S=a(25),k=a.n(S),w=(a(44),a(45),function(e){var t=e.currPage,a=e.reports,n=e.deleteReport,r=e.setCurrPage,l=e.limitPerPage,i=e.setLimit,o=a.data,s=a.countPages,u=function(e){return(e=(e=new Date(e)).toLocaleDateString()).split("/").join("-")};return c.a.createElement("div",{className:"List"},c.a.createElement("select",{id:"limit",value:l,onChange:function(e){i(e.target.value),r(0)}},c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"20"},"20"),c.a.createElement("option",{value:"30"},"30")),c.a.createElement("div",{className:"table-container"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"STT"),c.a.createElement("th",null,"H\u1ecd t\xean"),c.a.createElement("th",null,"Gi\u1edbi t\xednh"),c.a.createElement("th",null,"Ng\xe0y sinh"),c.a.createElement("th",null,"Ng\xe0y t\u1ea1o"),c.a.createElement("th",null,"N\u1ed9i dung"),c.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),c.a.createElement("tbody",null,o.map((function(e,a){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,a+t*l),c.a.createElement("td",{style:{textTransform:"capitalize"}},e.name),c.a.createElement("td",{style:{textTransform:"capitalize"}},e.sex),c.a.createElement("td",null,u(e.birthday)),c.a.createElement("td",null,u(e.date)),c.a.createElement("td",null,e.content),c.a.createElement("td",null,c.a.createElement("span",{className:"material-icons icon",onClick:function(t){return n(t,e._id)}},"delete_outline")))}))))),c.a.createElement(k.a,{pageCount:s,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(e){var t=e.selected;r(t)},containerClassName:"pagination"}))}),x=(a(84),function(e){var t=e.listField,a=e.setSearch,r=e.setCurrPage,l=t.list,o=t.dic,s=Object(n.useState)("name"),u=Object(i.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(""),f=Object(i.a)(E,2),p=f[0],h=f[1];return c.a.createElement("div",{className:"SearchForm"},c.a.createElement("select",{id:"field",value:m,onChange:function(e){d(e.target.value),h("")}},l.map((function(e,t){return c.a.createElement("option",{key:t,value:o[t]},e)}))),c.a.createElement("input",{id:"keyword",type:"birthday"===m?"date":"text",onChange:function(e){h(e.target.value)},value:p}),c.a.createElement("button",{onClick:function(e){e.preventDefault(),a({field:m,keyword:p.toLowerCase()}),r(0)}},c.a.createElement("span",{className:"material-icons icon"},"search")))}),T=(a(85),function(){var e=Object(n.useState)({data:[],countPages:0}),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)({field:"",keyword:""}),d=Object(i.a)(m,2),E=d[0],f=d[1],h=Object(n.useState)(10),g=Object(i.a)(h,2),v=g[0],b=g[1],j=function(){fetch("".concat(p,"/api/report?page=").concat(s,"&field=").concat(E.field,"&keyword=").concat(E.keyword,"&limit=").concat(v),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e)}))};return Object(n.useEffect)((function(){fetch("".concat(p,"/api/report?page=").concat(s,"&field=").concat(E.field,"&keyword=").concat(E.keyword,"&limit=").concat(v),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e)}))}),[E,s,v]),console.log("render"),c.a.createElement("div",{className:"Report"},c.a.createElement(C,{getReports:j}),c.a.createElement(x,{listField:{list:["H\u1ecd t\xean","Gi\u1edbi t\xednh","Ng\xe0y sinh"],dic:["name","sex","birthday"]},setSearch:f,setCurrPage:u}),c.a.createElement(w,{reports:a,currPage:s,deleteReport:function(e,t){e.defaultPrevented=!0;var a={_id:t};fetch("".concat(p,"/api/report/"),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){return j()}))},setCurrPage:u,limitPerPage:v,setLimit:b}))}),P=function(e){var t=e.currPage,a=e.users,n=e.deleteUser,r=e.setCurrPage,l=e.limitPerPage,i=e.setLimit,o=a.data,s=a.countPages;return c.a.createElement("div",{className:"List"},c.a.createElement("label",{htmlFor:"limit"},"S\u1ed1 d\xf2ng "),c.a.createElement("select",{id:"limit",value:l,onChange:function(e){i(e.target.value),r(0)}},c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"20"},"20"),c.a.createElement("option",{value:"30"},"30")),c.a.createElement("div",{className:"table-container"},c.a.createElement("table",null,c.a.createElement("colgroup",null,c.a.createElement("col",{style:{width:"10%"}}),c.a.createElement("col",{style:{width:"30%"}}),c.a.createElement("col",{style:{width:"30%"}}),c.a.createElement("col",{style:{width:"20%"}}),c.a.createElement("col",{style:{width:"10%"}})),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"STT"),c.a.createElement("th",null,"H\u1ecd t\xean"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Ng\xe0y t\u1ea1o"),c.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),c.a.createElement("tbody",null,o.map((function(e,a){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,a+t*l),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,(r=e.date,(r=(r=new Date(r)).toLocaleDateString()).split("/").join("-"))),c.a.createElement("td",null,c.a.createElement("span",{className:"material-icons icon",onClick:function(t){return n(t,e._id)}},"delete_outline")));var r}))))),c.a.createElement(k.a,{pageCount:s,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(e){var t=e.selected;r(t)},containerClassName:"pagination"}))},L=function(){var e=Object(n.useContext)(g).userInfo,t=Object(n.useState)({data:[],countPages:0}),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(0),u=Object(i.a)(o,2),m=u[0],d=u[1],E=Object(n.useState)(10),f=Object(i.a)(E,2),h=f[0],v=f[1];return Object(n.useEffect)((function(){fetch("".concat(p,"/api/user/list?page=").concat(m,"&limit=").concat(h),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){l(e)}))}),[m,h]),c.a.createElement("div",{className:"Users"},e.isAdmin?c.a.createElement(P,{users:r,currPage:m,deleteUser:function(e,t){e.defaultPrevented=!0;var a={_id:t};fetch("".concat(p,"/api/user/delete"),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){fetch("".concat(p,"/api/user/list?page=").concat(m,"&limit=").concat(h),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){l(e)}))}))},setCurrPage:d,limitPerPage:h,setLimit:v}):c.a.createElement(s.a,{to:{pathname:"/"}}))},A=a(62),B=(a(181),function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(2020),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),E=d[0],f=d[1],h=[];for(var g in a)h.push(g);return Object(n.useEffect)((function(){fetch("".concat(p,"/api/report/statistic"),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e)}))}),[s]),c.a.createElement("div",{className:"Statistic"},c.a.createElement("div",{className:"chart-container"},c.a.createElement(A.Line,{data:{labels:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],datasets:[{label:"T\u1ed5ng s\u1ed1 b\xe1o c\xe1o",borderColor:"rgb(255, 99, 132)",data:a[s]}]},options:{maintainAspectRatio:!1}})),c.a.createElement("div",{className:"select-year",onClick:function(){f(!E)}},c.a.createElement("span",null,s),c.a.createElement("span",{className:E?"material-icons icon focus":"material-icons icon"},"keyboard_arrow_down"),c.a.createElement("ul",{className:E?"focus":""},h.map((function(e){return c.a.createElement("li",{key:e,onClick:function(){return u(e)}},e)})))))}),F=function(e){var t=e.className,a=Object(n.useContext)(g).setIsLogin;return c.a.createElement("div",{className:t,onClick:function(e){e.preventDefault(),fetch("".concat(p,"/api/user/logout"),{credentials:"include"}).then((function(){a(!1),u.NotificationManager.success("\u0110\xe3 \u0111\u0103ng xu\u1ea5t!","Logout!")}))}},c.a.createElement("i",{className:"fas fa-sign-out-alt icon"}),c.a.createElement("span",null,"\u0110\u0103ng xu\u1ea5t"))},_=(a(182),function(e){var t=e.activeSideBar,a=e.setActiveSideBar,r=Object(n.useContext)(g).userInfo;return c.a.createElement("div",{className:t?"SideBar SideBar-active":"SideBar"},c.a.createElement("div",{className:t?"SideBar-Container SideBar-Container-Active":"SideBar-Container"},c.a.createElement("div",{className:"header"},c.a.createElement("h2",{className:"logo"},"Dashboard"),c.a.createElement("div",{className:"close-btn",onClick:function(){return a(!1)}},c.a.createElement("div",{className:"line1"}),c.a.createElement("div",{className:"line2"}))),c.a.createElement(o.c,{to:"/reports",activeClassName:"selected"},c.a.createElement("div",{className:"sidebar-item"},c.a.createElement("span",{className:"material-icons icon"},"format_list_bulleted"),c.a.createElement("span",null,"B\xe1o c\xe1o"))),c.a.createElement(o.c,{to:"/statistic",activeClassName:"selected"},c.a.createElement("div",{className:"sidebar-item"},c.a.createElement("span",{className:"material-icons icon"},"bar_chart"),c.a.createElement("span",null,"Th\u1ed1ng k\xea"))),r.isAdmin&&c.a.createElement(o.c,{to:"/users",activeClassName:"selected"},c.a.createElement("div",{className:"sidebar-item"},c.a.createElement("span",{className:"material-icons icon"},"groups"),c.a.createElement("span",null,"Ng\u01b0\u1eddi d\xf9ng"))),c.a.createElement("div",{className:"logout-btn"},c.a.createElement(F,{className:"sidebar-item"}))))}),D=(a(183),a(184),a(185),function(e){var t=e.setActiveSideBar,a=Object(n.useContext)(g).userInfo;return c.a.createElement("div",{className:"NavBar"},c.a.createElement("div",{className:"hamburger",onClick:function(){t(!0)}},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)),c.a.createElement("div",{className:"user-info"},c.a.createElement("div",{className:"info"},c.a.createElement("div",null,a.name),c.a.createElement("div",null,a.isAdmin?"Qu\u1ea3n l\xfd":"Ng\u01b0\u1eddi d\xf9ng")),c.a.createElement("span",{class:"material-icons-outlined icon"},"account_circle")))});var M=function(){var e=Object(n.useContext)(g).isLogin,t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement(o.a,null,c.a.createElement("div",{className:"App"},e&&c.a.createElement(_,{activeSideBar:r,setActiveSideBar:l}),c.a.createElement("div",{className:"right-side-container"},e&&c.a.createElement(D,{setActiveSideBar:l}),c.a.createElement(s.d,null,c.a.createElement(b,{exact:!0,path:"/",component:j}),c.a.createElement(s.b,{path:"/login",component:N}),c.a.createElement(s.b,{path:"/register",component:y}),c.a.createElement(b,{exact:!0,path:"/reports",component:T}),c.a.createElement(b,{exact:!0,path:"/users",component:L}),c.a.createElement(b,{exact:!0,path:"/statistic",component:B}))),c.a.createElement(u.NotificationContainer,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null,c.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,a){},45:function(e,t,a){},69:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[186,1,2]]]);
//# sourceMappingURL=main.ba7c0a38.chunk.js.map