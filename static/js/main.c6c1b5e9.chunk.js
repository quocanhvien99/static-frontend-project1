(this["webpackJsonpfrontend-reactjs"]=this["webpackJsonpfrontend-reactjs"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},33:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r),i=(a(33),a(1)),o=a(8),s=a(4),u=a(11),m=a(27),d=a(10),E=a.n(d),p=a(13),f="https://api-project1-quocanh.herokuapp.com",h=Object(n.createContext)(),g=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({}),s=Object(i.a)(o,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){Object(p.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/api/user/info"),{credentials:"include"});case 2:if(200!==(t=e.sent).status){e.next=9;break}return l(!0),e.next=7,t.json();case 7:a=e.sent,m(a);case 9:case"end":return e.stop()}}),e)})))()}),[r]),c.a.createElement(h.Provider,{value:{isLogin:r,setIsLogin:l,userInfo:u}},e.children)},v=function(e){var t=e.component,a=Object(m.a)(e,["component"]),r=Object(n.useContext)(h).isLogin;return c.a.createElement(s.b,Object.assign({},a,{render:function(e){var a=e.location;return r?c.a.createElement(t,null):c.a.createElement(s.a,{to:{pathname:"/login",state:{from:a}}})}}))},b=(a(42),function(){return c.a.createElement("div",{className:"Home"})}),j=(a(43),a(44),function(e){var t=e.content,a=e.isActive,n=e.setModel;return c.a.createElement("div",{className:a?"Modal Modal-active":"Modal"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"content"},t),c.a.createElement("div",{className:"close-btn",onClick:function(){n({isActive:!1})}},"X")))}),N=(a(45),function(){return c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"circle"},c.a.createElement("div",{className:"circle-1"}),c.a.createElement("div",{className:"circle-2"}),c.a.createElement("div",{className:"circle-3"})))}),O=function(e){var t=e.history,a=e.location,r=Object(n.useState)(""),l=Object(i.a)(r,2),m=l[0],d=l[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),b=v[0],O=v[1],y=Object(n.useState)({isActive:!1}),C=Object(i.a)(y,2),S=C[0],k=C[1],w=Object(n.useState)(!1),x=Object(i.a)(w,2),P=x[0],L=x[1],T=Object(n.useContext)(h),B=T.isLogin,A=T.setIsLogin,F=(a.state||{from:{pathname:"/"}}).from,D=function(){var e=Object(p.a)(E.a.mark((function e(){var a,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),a={email:m,password:b},e.next=4,fetch("".concat(f,"/api/user/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.text();case 7:if(c=e.sent,L(!1),200!==n.status){e.next=14;break}return A(!B),t.push(F),u.NotificationManager.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!","Successful!"),e.abrupt("return");case 14:k({isActive:!0,content:c});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return B?c.a.createElement(s.a,{to:"/"}):c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"\u0110\u0103ng Nh\u1eadp"),c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){d(e.target.value)},value:m}),c.a.createElement("label",{htmlFor:"password"},"M\u1eadt kh\u1ea9u"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){O(e.target.value)},value:b}),c.a.createElement("div",{id:"submit-btn",onClick:D},"\u0110\u0103ng Nh\u1eadp"),c.a.createElement("p",null,"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",c.a.createElement(o.b,{to:"/register"},"\u0110\u0103ng k\xfd"))),c.a.createElement(j,Object.assign({},S,{setModel:k})),P&&c.a.createElement(N,null))},y=(a(46),function(e){var t=e.history,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],s=r[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),h=d[0],g=d[1],v=Object(n.useState)(""),b=Object(i.a)(v,2),O=b[0],y=b[1],C=Object(n.useState)({isActive:!1}),S=Object(i.a)(C,2),k=S[0],w=S[1],x=Object(n.useState)(!1),P=Object(i.a)(x,2),L=P[0],T=P[1],B=function(){var e=Object(p.a)(E.a.mark((function e(){var a,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),a={name:l,email:h,password:O},e.next=4,fetch("".concat(f,"/api/user/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,n.text();case 7:if(c=e.sent,T(!1),200!==n.status){e.next=13;break}return t.push("/login"),u.NotificationManager.success("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng!","Successful!"),e.abrupt("return");case 13:w({isActive:!0,content:c});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"Register"},c.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"name"},"T\xean"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){s(e.target.value)},value:l}),c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){g(e.target.value)},value:h}),c.a.createElement("label",{htmlFor:"password"},"M\u1eadt kh\u1ea9u"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){y(e.target.value)},value:O}),c.a.createElement("div",{id:"submit-btn",onClick:B},"\u0110\u0103ng K\xfd"),c.a.createElement("p",null,"Quay l\u1ea1i trang ",c.a.createElement(o.b,{to:"/login"},"\u0111\u0103ng nh\u1eadp"))),c.a.createElement(j,Object.assign({},k,{setModel:w})),L&&c.a.createElement(N,null))}),C=(a(47),function(e){var t=e.getReports,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)(null),u=Object(i.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)("nam"),p=Object(i.a)(E,2),h=p[0],g=p[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),j=b[0],N=b[1];return console.log("render"),c.a.createElement("div",{className:"CreateReport"},c.a.createElement("div",{className:"create-btn",onClick:function(){return N(!0)}},"+ T\u1ea1o M\u1edbi"),c.a.createElement("div",{className:j?"Create-Form Create-Form-Active":"Create-Form"},c.a.createElement("div",{className:"container"},c.a.createElement("span",{className:"close-btn",onClick:function(){return N(!1)}},"X"),c.a.createElement("label",{htmlFor:"name"},"H\u1ecd t\xean"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){o(e.target.value)}}),c.a.createElement("label",{htmlFor:"birthday"},"Ng\xe0y sinh"),c.a.createElement("input",{type:"date",name:"birthday",id:"birthday",onChange:function(e){d(e.target.value)}}),c.a.createElement("label",{htmlFor:"sex"},"Gi\u1edbi t\xednh"),c.a.createElement("select",{id:"sex",name:"sex",defaultValue:h,onChange:function(e){g(e.target.value)}},c.a.createElement("option",{value:"nam"},"Nam"),c.a.createElement("option",{value:"n\u1eef"},"N\u1eef")),c.a.createElement("button",{onClick:function(e){e.defaultValue=!0;var a={name:l.toLowerCase(),sex:h,birthday:m};fetch("".concat(f,"/api/report/"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){t(),N(!1),o(""),d(null),g("nam")}))}},"T\u1ea1o b\xe1o c\xe1o"))))}),S=a(14),k=a.n(S),w=(a(24),a(25),function(e){var t=e.currPage,a=e.reports,n=e.deleteReport,r=e.setCurrPage,l=e.limitPerPage,i=e.setLimit,o=a.data,s=a.countPages,u=function(e){return(e=(e=new Date(e)).toLocaleDateString()).split("/").join("-")};return c.a.createElement("div",{className:"List"},c.a.createElement("select",{id:"limit",value:l,onChange:function(e){i(e.target.value),r(0)}},c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"20"},"20"),c.a.createElement("option",{value:"30"},"30")),c.a.createElement("div",{className:"table-container"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"STT"),c.a.createElement("th",null,"H\u1ecd t\xean"),c.a.createElement("th",null,"Gi\u1edbi t\xednh"),c.a.createElement("th",null,"Ng\xe0y sinh"),c.a.createElement("th",null,"Ng\xe0y t\u1ea1o"),c.a.createElement("th",null,"N\u1ed9i dung"),c.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),c.a.createElement("tbody",null,o.map((function(e,a){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,a+t*l),c.a.createElement("td",{style:{textTransform:"capitalize"}},e.name),c.a.createElement("td",{style:{textTransform:"capitalize"}},e.sex),c.a.createElement("td",null,u(e.birthday)),c.a.createElement("td",null,u(e.date)),c.a.createElement("td",null,e.content),c.a.createElement("td",null,c.a.createElement("span",{className:"material-icons icon",onClick:function(t){return n(t,e._id)}},"delete_outline")))}))))),c.a.createElement(k.a,{pageCount:s,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(e){var t=e.selected;r(t)},containerClassName:"pagination"}))}),x=(a(48),function(e){var t=e.listField,a=e.setSearch,r=e.setCurrPage,l=t.list,o=t.dic,s=Object(n.useState)("name"),u=Object(i.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(""),p=Object(i.a)(E,2),f=p[0],h=p[1];return c.a.createElement("div",{className:"SearchForm"},c.a.createElement("select",{id:"field",value:m,onChange:function(e){d(e.target.value),h("")}},l.map((function(e,t){return c.a.createElement("option",{key:t,value:o[t]},e)}))),c.a.createElement("input",{id:"keyword",type:"birthday"===m?"date":"text",onChange:function(e){h(e.target.value)},value:f}),c.a.createElement("button",{onClick:function(e){e.preventDefault(),a({field:m,keyword:f.toLowerCase()}),r(0)}},c.a.createElement("span",{className:"material-icons icon"},"search")))}),P=(a(49),function(){var e=Object(n.useState)({data:[],countPages:0}),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)({field:"",keyword:""}),d=Object(i.a)(m,2),E=d[0],p=d[1],h=Object(n.useState)(10),g=Object(i.a)(h,2),v=g[0],b=g[1],j=function(){fetch("".concat(f,"/api/report?page=").concat(s,"&field=").concat(E.field,"&keyword=").concat(E.keyword,"&limit=").concat(v),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e)}))};return Object(n.useEffect)((function(){fetch("".concat(f,"/api/report?page=").concat(s,"&field=").concat(E.field,"&keyword=").concat(E.keyword,"&limit=").concat(v),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e)}))}),[E,s,v]),console.log("render"),c.a.createElement("div",{className:"Report"},c.a.createElement(C,{getReports:j}),c.a.createElement(x,{listField:{list:["H\u1ecd t\xean","Gi\u1edbi t\xednh","Ng\xe0y sinh"],dic:["name","sex","birthday"]},setSearch:p,setCurrPage:u}),c.a.createElement(w,{reports:a,currPage:s,deleteReport:function(e,t){e.defaultPrevented=!0;var a={_id:t};fetch("".concat(f,"/api/report/"),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){return j()}))},setCurrPage:u,limitPerPage:v,setLimit:b}))}),L=function(e){var t=e.currPage,a=e.users,n=e.deleteUser,r=e.setCurrPage,l=e.limitPerPage,i=e.setLimit,o=a.data,s=a.countPages;return c.a.createElement("div",{className:"List"},c.a.createElement("label",{htmlFor:"limit"},"S\u1ed1 d\xf2ng "),c.a.createElement("select",{id:"limit",value:l,onChange:function(e){i(e.target.value),r(0)}},c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"20"},"20"),c.a.createElement("option",{value:"30"},"30")),c.a.createElement("div",{className:"table-container"},c.a.createElement("table",null,c.a.createElement("colgroup",null,c.a.createElement("col",{style:{width:"10%"}}),c.a.createElement("col",{style:{width:"30%"}}),c.a.createElement("col",{style:{width:"30%"}}),c.a.createElement("col",{style:{width:"20%"}}),c.a.createElement("col",{style:{width:"10%"}})),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"STT"),c.a.createElement("th",null,"H\u1ecd t\xean"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Ng\xe0y t\u1ea1o"),c.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),c.a.createElement("tbody",null,o.map((function(e,a){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,a+t*l),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,(r=e.date,(r=(r=new Date(r)).toLocaleDateString()).split("/").join("-"))),c.a.createElement("td",null,c.a.createElement("span",{className:"material-icons icon",onClick:function(t){return n(t,e._id)}},"delete_outline")));var r}))))),c.a.createElement(k.a,{pageCount:s,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(e){var t=e.selected;r(t)},containerClassName:"pagination"}))},T=function(){var e=Object(n.useContext)(h).userInfo,t=Object(n.useState)({data:[],countPages:0}),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(0),u=Object(i.a)(o,2),m=u[0],d=u[1],E=Object(n.useState)(10),p=Object(i.a)(E,2),g=p[0],v=p[1];return Object(n.useEffect)((function(){fetch("".concat(f,"/api/user/list?page=").concat(m,"&limit=").concat(g),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){l(e)}))}),[m,g]),c.a.createElement("div",{className:"Users"},e.isAdmin?c.a.createElement(L,{users:r,currPage:m,deleteUser:function(e,t){e.defaultPrevented=!0;var a={_id:t};fetch("".concat(f,"/api/user/delete"),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){fetch("".concat(f,"/api/user/list?page=").concat(m,"&limit=").concat(g),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){l(e)}))}))},setCurrPage:d,limitPerPage:g,setLimit:v}):c.a.createElement(s.a,{to:{pathname:"/"}}))},B=function(e){var t=e.className,a=Object(n.useContext)(h).setIsLogin;return c.a.createElement("div",{className:t,onClick:function(e){e.preventDefault(),fetch("".concat(f,"/api/user/logout"),{credentials:"include"}).then((function(){a(!1),u.NotificationManager.success("\u0110\xe3 \u0111\u0103ng xu\u1ea5t!","Logout!")}))}},c.a.createElement("i",{className:"fas fa-sign-out-alt icon"}),c.a.createElement("span",null,"\u0110\u0103ng xu\u1ea5t"))},A=(a(50),function(e){var t=e.activeSideBar,a=e.setActiveSideBar,r=Object(n.useContext)(h).userInfo;return c.a.createElement("div",{className:t?"SideBar SideBar-active":"SideBar"},c.a.createElement("div",{className:t?"SideBar-Container SideBar-Container-Active":"SideBar-Container"},c.a.createElement("div",{className:"header"},c.a.createElement("h2",{className:"logo"},"Dashboard"),c.a.createElement("div",{className:"close-btn",onClick:function(){return a(!1)}},c.a.createElement("div",{className:"line1"}),c.a.createElement("div",{className:"line2"}))),c.a.createElement(o.c,{to:"/reports",activeClassName:"selected"},c.a.createElement("div",{className:"sidebar-item"},c.a.createElement("span",{className:"material-icons icon"},"format_list_bulleted"),c.a.createElement("span",null,"B\xe1o c\xe1o"))),c.a.createElement(o.c,{to:"/statistic",activeClassName:"selected"},c.a.createElement("div",{className:"sidebar-item"},c.a.createElement("span",{className:"material-icons icon"},"bar_chart"),c.a.createElement("span",null,"Th\u1ed1ng k\xea"))),r.isAdmin&&c.a.createElement(o.c,{to:"/users",activeClassName:"selected"},c.a.createElement("div",{className:"sidebar-item"},c.a.createElement("span",{className:"material-icons icon"},"groups"),c.a.createElement("span",null,"Ng\u01b0\u1eddi d\xf9ng"))),c.a.createElement("div",{className:"logout-btn"},c.a.createElement(B,{className:"sidebar-item"}))))}),F=(a(51),a(52),a(53),function(e){var t=e.setActiveSideBar;return c.a.createElement("div",{className:"NavBar"},c.a.createElement("div",{className:"hamburger",onClick:function(){t(!0)}},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))});var D=function(){var e=Object(n.useContext)(h).isLogin,t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement(o.a,null,c.a.createElement("div",{className:"App"},e&&c.a.createElement(A,{activeSideBar:r,setActiveSideBar:l}),c.a.createElement("div",{className:"right-side-container"},e&&c.a.createElement(F,{setActiveSideBar:l}),c.a.createElement(s.d,null,c.a.createElement(v,{exact:!0,path:"/",component:b}),c.a.createElement(s.b,{path:"/login",component:O}),c.a.createElement(s.b,{path:"/register",component:y}),c.a.createElement(v,{exact:!0,path:"/reports",component:P}),c.a.createElement(v,{exact:!0,path:"/users",component:T}))),c.a.createElement(u.NotificationContainer,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null,c.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.c6c1b5e9.chunk.js.map